<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>K-12 Cybersecurity Incident Response Training</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1A4379 0%, #0d2847 100%);
            min-height: 100vh;
            color: #ffffff;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        .card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.2);
            margin-bottom: 20px;
        }
        .btn {
            background: linear-gradient(135deg, #28ABE2 0%, #1A4379 100%);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(40, 171, 226, 0.3);
        }
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(40, 171, 226, 0.4);
        }
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }
        .scenario-card {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(40, 171, 226, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .scenario-card:hover {
            background: rgba(40, 171, 226, 0.15);
            border-color: #28ABE2;
            transform: translateX(5px);
        }
        .choice {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .choice:hover {
            background: rgba(40, 171, 226, 0.2);
            border-color: #28ABE2;
        }
        .choice.selected {
            background: rgba(40, 171, 226, 0.3);
            border-color: #28ABE2;
            box-shadow: 0 0 20px rgba(40, 171, 226, 0.4);
        }
        .score-display {
            background: linear-gradient(135deg, #28ABE2 0%, #1A4379 100%);
            padding: 15px 25px;
            border-radius: 50px;
            display: inline-block;
            font-size: 20px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(40, 171, 226, 0.3);
        }
        .round-indicator {
            display: inline-block;
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }
        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #28ABE2 0%, #1A4379 100%);
            transition: width 0.5s ease;
        }
        .review-item {
            background: rgba(255, 255, 255, 0.05);
            border-left: 4px solid #28ABE2;
            padding: 15px;
            margin-bottom: 15px;
            border-radius: 8px;
        }
        .correct { border-left-color: #4ade80; }
        .partial { border-left-color: #fbbf24; }
        .incorrect { border-left-color: #ef4444; }
        .recommendation {
            background: rgba(40, 171, 226, 0.15);
            border: 1px solid #28ABE2;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 15px;
        }
        .warning-box {
            background: rgba(251, 191, 36, 0.15);
            border: 2px solid #fbbf24;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        h1 { font-size: 36px; margin-bottom: 10px; text-align: center; }
        h2 { font-size: 28px; margin-bottom: 20px; color: #28ABE2; }
        h3 { font-size: 20px; margin-bottom: 15px; color: #28ABE2; }
        p { line-height: 1.6; margin-bottom: 15px; }
        .icon {
            display: inline-block;
            margin-right: 8px;
            font-size: 24px;
        }
        .badge {
            display: inline-block;
            padding: 4px 12px;
            background: rgba(40, 171, 226, 0.3);
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 10px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const scenarios = {
            ransomware: {
                title: "Ransomware Attack on Student Information System",
                description: "Your district's student information system has been hit by ransomware. Student records, grades, and attendance data are encrypted. A ransom note demands payment to decrypt FERPA-protected student data.",
                icon: "ðŸ”’",
                rounds: [
                    {
                        title: "Initial Discovery & Reporting",
                        questions: [
                            {
                                question: "A teacher reports that the grade book system is showing encrypted files with a ransom demand. What is your FIRST action?",
                                choices: [
                                    { text: "Immediately shut down the student information system server", points: 4, feedback: "Isolation is important, but shutting down may lose forensic evidence. Better to disconnect from network while leaving running." },
                                    { text: "Disconnect the server from the network but leave it running, then alert your IT director", points: 10, feedback: "Excellent! This isolates the threat, preserves evidence, and initiates proper chain of command notification." },
                                    { text: "Tell teachers to avoid using the system until further notice", points: 2, feedback: "User notification is needed, but technical containment must happen first to prevent spread." },
                                    { text: "Try to restore files from the recycle bin", points: 0, feedback: "Encrypted files can't be recovered this way. Focus on containment and proper incident response procedures." }
                                ]
                            },
                            {
                                question: "After isolating the system, you must report this incident. Under Georgia HB156, what is your reporting requirement?",
                                choices: [
                                    { text: "Report to GEMA/HS within one hour via GTA help desk (877) 482-3233, Option 2, and contact your insurance agency", points: 10, feedback: "Perfect! Georgia HB156 requires one-hour reporting to GEMA/HS. Insurance notification is also critical for potential coverage." },
                                    { text: "Wait until Monday to report during business hours", points: 0, feedback: "HB156 requires immediate reporting within one hour, 24/7. Delays violate compliance and prevent timely state support." },
                                    { text: "Only notify the superintendent and school board", points: 3, feedback: "Internal notification is important, but Georgia law requires reporting to GEMA/HS within one hour via GTA at (877) 482-3233." },
                                    { text: "Report to the FBI and local police only", points: 5, feedback: "Law enforcement should be contacted, but Georgia HB156 specifically mandates reporting to GEMA/HS within one hour." }
                                ]
                            },
                            {
                                question: "Your backups were last run 24 hours ago and appear intact. The encrypted system contains FERPA-protected student records. What's your next step?",
                                choices: [
                                    { text: "Immediately restore from backup to all systems to minimize downtime", points: 4, feedback: "Rushing restoration without securing the entry point and verifying backup integrity risks reinfection." },
                                    { text: "Test backup integrity, identify attack vector, ensure it's closed, assess FERPA data exposure, then restore", points: 10, feedback: "Excellent! Systematic approach ensures clean restoration and assesses if FERPA breach notification is required." },
                                    { text: "Pay the ransom to avoid FERPA violations", points: 0, feedback: "Paying doesn't prevent FERPA violations and encourages attacks. Proper restoration and breach assessment is correct." },
                                    { text: "Keep the infected system online while restoring to compare", points: 1, feedback: "Never keep infected systems connected during restoration. This risks spreading ransomware to restored systems." }
                                ]
                            }
                        ]
                    },
                    {
                        title: "Investigation & Data Protection",
                        questions: [
                            {
                                question: "Investigation reveals the ransomware entered through a phishing email to a teacher. How do you properly report this per HB156?",
                                choices: [
                                    { text: "Call GTA help desk at (877) 482-3233, Option 2, state 'Declaring a Cyber-Security Event,' provide details", points: 10, feedback: "Perfect! This is the exact Georgia HB156 reporting protocol. GTA coordinates state response resources 24/7." },
                                    { text: "Send an email to the district superintendent", points: 2, feedback: "Superintendent should be notified, but HB156 requires calling GTA immediately at (877) 482-3233, Option 2." },
                                    { text: "Fill out an online incident form on your district website", points: 3, feedback: "Internal documentation is good, but HB156 requires immediate phone reporting to GTA within one hour." },
                                    { text: "Discipline the teacher who clicked the phishing link", points: 0, feedback: "Punishment discourages reporting. Focus on proper HB156 reporting and system-wide security improvements." }
                                ]
                            },
                            {
                                question: "You discover the attackers had network access for 3 days before deploying ransomware. Student PII may have been accessed. What's your priority?",
                                choices: [
                                    { text: "Only investigate the student information system", points: 2, feedback: "Attackers had 3 days for lateral movement. Check all systems for compromise and data exfiltration." },
                                    { text: "Investigate all systems, check for data exfiltration, assess FERPA breach scope, review credential usage", points: 10, feedback: "Excellent! Comprehensive investigation determines full breach scope and FERPA notification requirements." },
                                    { text: "Assume only encrypted files were affected", points: 0, feedback: "Ransomware is often deployed after data theft. Assume breach until investigation proves otherwise." },
                                    { text: "Just restore from backup and resume operations", points: 1, feedback: "Skipping investigation risks missing stolen student data, backdoors, and FERPA breach obligations." }
                                ]
                            },
                            {
                                question: "Forensics show student names, addresses, grades, and SSNs were potentially accessed. What are your FERPA obligations?",
                                choices: [
                                    { text: "No notification needed since you recovered the data", points: 0, feedback: "FERPA requires notification when education records are accessed without authorization, regardless of recovery." },
                                    { text: "Consult legal counsel immediately to determine FERPA breach notification requirements for affected families", points: 10, feedback: "Correct! Unauthorized access to education records triggers FERPA obligations. Legal guidance ensures compliance." },
                                    { text: "Only notify parents if the attackers publish the data", points: 2, feedback: "FERPA obligations begin with unauthorized access, not just public disclosure. Assess requirements immediately." },
                                    { text: "Keep it confidential to avoid alarming parents", points: 0, feedback: "Concealing breaches violates FERPA and district policy. Transparency and proper notification are required." }
                                ]
                            }
                        ]
                    },
                    {
                        title: "Recovery & Future Prevention",
                        questions: [
                            {
                                question: "You're ready to restore operations. What's your recovery priority order for school systems?",
                                choices: [
                                    { text: "Start with teacher laptops first so classes can resume", points: 3, feedback: "Endpoints should wait. Restore critical infrastructure (domain controllers, authentication) first." },
                                    { text: "Critical infrastructure first (domain controllers, authentication), then student systems, then validate each tier", points: 10, feedback: "Perfect! Phased restoration with validation prevents reinfection and ensures stable foundation." },
                                    { text: "Restore everything simultaneously to minimize downtime for students", points: 2, feedback: "Simultaneous restoration makes it impossible to isolate problems or detect reinfection." },
                                    { text: "Only restore the student information system since that was attacked", points: 1, feedback: "The attack may have compromised other systems. Complete, systematic restoration is necessary." }
                                ]
                            },
                            {
                                question: "The superintendent asks how to prevent this from happening again. What's your comprehensive recommendation?",
                                choices: [
                                    { text: "Block all email attachments district-wide", points: 3, feedback: "Too restrictive for educational environment. Implement email filtering with proper staff training instead." },
                                    { text: "Deploy email filtering, endpoint detection, network segmentation, MFA, regular security training, and tested backups", points: 10, feedback: "Excellent! Layered defense-in-depth strategy addresses multiple attack vectors and creates resilient systems." },
                                    { text: "Just install better antivirus on all computers", points: 4, feedback: "Antivirus alone is insufficient. Modern ransomware requires comprehensive defense-in-depth approach." },
                                    { text: "Require all teachers to take a one-time cybersecurity class", points: 6, feedback: "Training is important but must be ongoing and combined with technical controls for effective defense." }
                                ]
                            },
                            {
                                question: "Six months later, you're presenting to the school board about improved security posture. What metrics demonstrate success?",
                                choices: [
                                    { text: "Show that no successful ransomware attacks occurred", points: 5, feedback: "Absence of attacks doesn't prove security. Proactive metrics show actual defensive capability." },
                                    { text: "Present phishing simulation results, backup test success rates, MFA adoption, and incident detection time improvements", points: 10, feedback: "Perfect! These metrics comprehensively measure prevention, detection, and recovery improvements." },
                                    { text: "Report how much money was saved by not paying ransom", points: 2, feedback: "Cost avoidance doesn't measure security improvements. Focus on proactive defense capabilities." },
                                    { text: "List all new security software purchased", points: 3, feedback: "Purchases don't equal security. Effectiveness metrics and operational improvements demonstrate value." }
                                ]
                            },
                            {
                                question: "The school board wants to understand total incident costs for budget planning. What should you include?",
                                choices: [
                                    { text: "Only IT staff overtime during recovery", points: 3, feedback: "Overtime is one factor. Include lost instruction time, substitute costs, insurance deductible, and reputation impact." },
                                    { text: "Downtime costs, lost instruction time, IT response, insurance deductible, legal fees, and communication expenses", points: 10, feedback: "Excellent! Comprehensive cost analysis helps board understand true impact and justify security investments." },
                                    { text: "Just the cost of new security tools", points: 2, feedback: "New tools are one expense. Board needs full financial impact including operational and educational costs." },
                                    { text: "The ransom amount you didn't pay", points: 0, feedback: "Ransom is theoretical. Board needs actual costs: response, recovery, legal, communication, and lost services." }
                                ]
                            }
                        ]
                    }
                ]
            },
            ddos: {
                title: "DDoS Attack During Online Learning",
                description: "Your district's online learning platform and website are under a massive Distributed Denial of Service attack. Students can't access remote classes, and the attack coincides with state-mandated testing week.",
                icon: "ðŸŒ",
                rounds: [
                    {
                        title: "Attack Detection & Initial Response",
                        questions: [
                            {
                                question: "Teachers report students can't access online classes. Monitoring shows network traffic at 200x normal. What's your immediate action?",
                                choices: [
                                    { text: "Restart all web servers and tell teachers to wait", points: 2, feedback: "Restarting won't help against DDoS and creates more downtime for students. Activate mitigation services." },
                                    { text: "Activate DDoS mitigation service, enable rate limiting, and notify GEMA/HS per HB156 within one hour", points: 10, feedback: "Excellent! Proper technical response combined with required Georgia HB156 compliance reporting." },
                                    { text: "Cancel online classes for the day", points: 3, feedback: "While this may be necessary, first attempt technical mitigation to restore services for students." },
                                    { text: "Call your ISP to request more bandwidth", points: 4, feedback: "More bandwidth won't stop volumetric DDoS attacks. Specialized mitigation services are required." }
                                ]
                            },
                            {
                                question: "The attack uses 75,000+ IP addresses worldwide. Meanwhile, you notice unusual login attempts to student accounts. What should you do?",
                                choices: [
                                    { text: "Ignore login attempts and focus only on the DDoS", points: 0, feedback: "DDoS attacks often mask credential stuffing. Investigate both simultaneously while maintaining HB156 compliance." },
                                    { text: "Investigate login attempts immediately, maintain DDoS mitigation, ensure GEMA/HS notification complete", points: 10, feedback: "Perfect! Parallel response to both threats while maintaining compliance protects student data." },
                                    { text: "Disable all student accounts temporarily", points: 5, feedback: "This prevents learning access during the incident. Better to investigate suspicious logins and implement targeted controls." },
                                    { text: "Wait until DDoS ends to investigate logins", points: 2, feedback: "Delayed investigation gives attackers more time to access student accounts. Address both threats immediately." }
                                ]
                            },
                            {
                                question: "You're trying to maintain access for state testing while mitigating the attack. What's your strategy?",
                                choices: [
                                    { text: "Prioritize testing traffic through mitigation service and consider alternate testing arrangements with state", points: 10, feedback: "Excellent! Protecting critical testing while maintaining communication with state ensures compliance flexibility." },
                                    { text: "Cancel all testing until the attack ends", points: 4, feedback: "Before canceling, coordinate with state education department. They may provide extensions or alternatives." },
                                    { text: "Let teachers administer paper tests instead", points: 6, feedback: "Paper alternatives may help, but requires state approval for standardized testing. Coordinate first." },
                                    { text: "Tell students to keep trying to access the system", points: 0, feedback: "This frustrates students and wastes resources. Implement technical solutions and communicate alternatives." }
                                ]
                            }
                        ]
                    },
                    {
                        title: "Mitigation & Protection",
                        questions: [
                            {
                                question: "Your CDN filtered most attack traffic, but now database queries supporting student portals are spiking abnormally. What's happening?",
                                choices: [
                                    { text: "The attack shifted to application-layer DDoS targeting your student database", points: 10, feedback: "Correct! Application-layer attacks target backend resources and require different mitigation strategies." },
                                    { text: "Students are just trying to access classes simultaneously", points: 2, feedback: "Student usage patterns don't match attack signatures. This is likely deliberate application-layer attack." },
                                    { text: "The database just needs more resources", points: 1, feedback: "Scaling won't help against malicious queries designed to exhaust resources. Need targeted mitigation." },
                                    { text: "It's unrelated to the DDoS", points: 0, feedback: "Coordinated attacks often include multiple vectors. Treat database issues as part of the attack." }
                                ]
                            },
                            {
                                question: "How do you protect student data systems against application-layer attacks without disrupting legitimate access?",
                                choices: [
                                    { text: "Implement query rate limiting, CAPTCHA for suspicious patterns, aggressive caching, and geo-blocking if appropriate", points: 10, feedback: "Perfect! Multi-layered application defense protects resources while allowing legitimate student access." },
                                    { text: "Add more database servers immediately", points: 3, feedback: "Scaling alone won't stop malicious queries. Need smart filtering to distinguish attacks from students." },
                                    { text: "Block all API access temporarily", points: 4, feedback: "This may break mobile apps and learning platforms students depend on. Use targeted rate limiting instead." },
                                    { text: "Restart the database server", points: 0, feedback: "Restarting doesn't address the attack and denies service to students. Apply mitigation controls instead." }
                                ]
                            },
                            {
                                question: "The attackers send an email threatening continued attacks unless the district pays Bitcoin. How should you respond?",
                                choices: [
                                    { text: "Pay to restore services for students", points: 0, feedback: "Paying encourages future attacks against schools and doesn't guarantee they'll stop." },
                                    { text: "Continue mitigation, document the extortion, notify law enforcement and insurance, maintain GEMA/HS communication", points: 10, feedback: "Excellent! Professional response with proper documentation and coordination protects district interests." },
                                    { text: "Have the superintendent respond to the attackers", points: 1, feedback: "Never engage with extortionists. Focus on technical mitigation and legal reporting." },
                                    { text: "Ignore the email completely", points: 3, feedback: "Document everything for law enforcement and insurance claims while continuing technical response." }
                                ]
                            }
                        ]
                    },
                    {
                        title: "Recovery & Resilience Building",
                        questions: [
                            {
                                question: "After 48 hours, the attack subsides and services are restored. What's your post-incident priority?",
                                choices: [
                                    { text: "Immediately resume normal operations and catch up on delayed testing", points: 3, feedback: "Coordinate with state on testing makeup. First analyze attack patterns and check for collateral damage." },
                                    { text: "Analyze attack patterns, review logs for account compromises, document lessons learned, coordinate testing makeup", points: 10, feedback: "Perfect! Thorough analysis improves defenses while coordinating educational continuity with stakeholders." },
                                    { text: "Just strengthen firewall rules and move on", points: 2, feedback: "Firewall improvements alone are insufficient. Need comprehensive analysis and multi-layer improvements." },
                                    { text: "Wait to see if they attack again during next testing cycle", points: 0, feedback: "Proactive defense improvements are essential. Don't wait for the next attack to improve security." }
                                ]
                            },
                            {
                                question: "The superintendent and technology committee want to prevent future DDoS attacks. What's your comprehensive recommendation?",
                                choices: [
                                    { text: "Subscribe to the largest DDoS protection service available", points: 5, feedback: "Protection services are important but must be part of broader redundancy and resilience strategy." },
                                    { text: "Implement DDoS protection, redundant infrastructure, failover systems, rate limiting, and tested incident response plans", points: 10, feedback: "Excellent! Layered defense with both prevention and response capabilities ensures educational continuity." },
                                    { text: "Move all systems to the cloud immediately", points: 4, feedback: "Cloud migration can help but requires proper architecture and DDoS configuration to be effective." },
                                    { text: "Buy more internet bandwidth from your provider", points: 2, feedback: "Bandwidth alone can't stop modern DDoS attacks that can exceed any school district's capacity." }
                                ]
                            },
                            {
                                question: "How should you test your DDoS defenses without impacting student learning?",
                                choices: [
                                    { text: "Conduct tabletop exercises and work with DDoS mitigation provider for off-hours controlled testing", points: 10, feedback: "Perfect! Simulations and controlled testing validate defenses without disrupting educational services." },
                                    { text: "Wait for the next real attack to test improvements", points: 0, feedback: "Learning during real attacks puts student services at risk. Test proactively during non-instructional times." },
                                    { text: "Just monitor your bandwidth usage trends", points: 2, feedback: "Monitoring is passive. Active testing validates your actual response capabilities and team readiness." },
                                    { text: "Have IT staff read vendor documentation about the protection service", points: 3, feedback: "Understanding tools is important, but hands-on exercises validate actual preparedness and identify gaps." }
                                ]
                            },
                            {
                                question: "The school board wants to understand the attack's impact for insurance claims and budget planning. What do you present?",
                                choices: [
                                    { text: "Just calculate IT staff overtime costs during the incident", points: 2, feedback: "Include lost instruction time, testing delays, substitute teachers, communication costs, and recovery expenses." },
                                    { text: "Present comprehensive costs: lost instruction hours, testing disruption, IT response, legal fees, insurance deductible, communication", points: 10, feedback: "Excellent! Complete financial and educational impact analysis supports insurance claims and budget justification." },
                                    { text: "Focus only on the technical details of how you stopped the attack", points: 3, feedback: "Board needs business/educational impact and costs, not just technical details. Show full operational impact." },
                                    { text: "Downplay the impact to avoid budget scrutiny", points: 0, feedback: "Honest assessment builds credibility and justifies necessary security investments for student protection." }
                                ]
                            }
                        ]
                    }
                ]
            },
            phishing: {
                title: "Phishing Attack Compromising Teacher Credentials",
                description: "A sophisticated phishing campaign has compromised multiple teacher accounts. Attackers are using these credentials to access student data, grades, and are sending phishing emails to other staff and parents.",
                icon: "ðŸŽ£",
                rounds: [
                    {
                        title: "Initial Compromise & Response",
                        questions: [
                            {
                                question: "Security alerts show suspicious logins from foreign IPs for 5 teacher accounts. What's your first action?",
                                choices: [
                                    { text: "Immediately suspend all five accounts and force password resets", points: 7, feedback: "Quick containment is good, but also investigate for additional compromises and ensure HB156 reporting." },
                                    { text: "Suspend accounts, force resets, scan for other compromises, and report to GEMA/HS per HB156 within one hour", points: 10, feedback: "Perfect! Immediate containment plus comprehensive investigation and required Georgia compliance reporting." },
                                    { text: "Call the teachers to ask if they're traveling abroad", points: 2, feedback: "Secure accounts first, then investigate. Suspicious foreign logins indicate compromise, not travel." },
                                    { text: "Monitor the accounts to gather intelligence on the attackers", points: 0, feedback: "Leaving compromised accounts active violates response protocols and risks student data exposure." }
                                ]
                            },
                            {
                                question: "One compromised account belongs to a teacher with grade access to 150 students. What's your immediate concern?",
                                choices: [
                                    { text: "The teacher might modify grades", points: 3, feedback: "While possible, bigger concerns are FERPA-protected student data access and potential spread to more accounts." },
                                    { text: "FERPA-protected student data exposure, grade tampering, and using the account to spread phishing to parents", points: 10, feedback: "Correct! Teacher access enables multiple FERPA violations and secondary attacks on school community." },
                                    { text: "The teacher's personal email might be compromised too", points: 2, feedback: "Personal email is separate concern. Focus on protecting student data and school systems first." },
                                    { text: "Only the specific classes that teacher teaches", points: 1, feedback: "Attackers can access all district data the teacher's credentials permit, not just their assigned classes." }
                                ]
                            },
                            {
                                question: "You discover the phishing emails used a fake 'district IT support' sender asking teachers to verify credentials. How do you respond?",
                                choices: [
                                    { text: "Block the sender domain and warn all staff about the phishing campaign", points: 7, feedback: "Good initial response, but also need to report per HB156, contact insurance, and implement email authentication." },
                                    { text: "Implement email filtering, report to GEMA/HS, alert all staff with phishing indicators, contact insurance, scan for more victims", points: 10, feedback: "Excellent! Comprehensive response combines technical controls, compliance reporting, and community protection." },
                                    { text: "Discipline teachers who fell for the phishing email", points: 0, feedback: "Punishment discourages future reporting. Focus on training and technical defenses, not blame." },
                                    { text: "Just forward the phishing email to staff as a warning example", points: 3, feedback: "Don't forward malicious emails. Send cleaned notification with indicators and proper security guidance." }
                                ]
                            }
                        ]
                    },
                    {
                        title: "Investigation & Data Protection",
                        questions: [
                            {
                                question: "Investigation reveals attackers accessed student records including names, grades, IEP documents, and home addresses. What are your FERPA obligations?",
                                choices: [
                                    { text: "No notification needed since you recovered account access", points: 0, feedback: "FERPA requires assessment when education records are accessed without authorization, regardless of recovery." },
                                    { text: "Consult legal counsel immediately to determine FERPA notification requirements for affected students and families", points: 10, feedback: "Correct! Unauthorized access to education records triggers potential FERPA obligations. Get legal guidance now." },
                                    { text: "Only notify parents if student SSNs were accessed", points: 3, feedback: "All education records are FERPA-protected, not just SSNs. Assess full breach scope with legal counsel." },
                                    { text: "Wait to see if data appears online before notifying", points: 0, feedback: "FERPA obligations begin with unauthorized access. Proactive assessment and notification are required." }
                                ]
                            },
                            {
                                question: "Attackers are using compromised teacher accounts to send phishing emails to parents requesting student information. How do you stop the spread?",
                                choices: [
                                    { text: "Disable all district email temporarily", points: 2, feedback: "Complete email shutdown disrupts parent communication. Use targeted controls and filtering instead." },
                                    { text: "Implement email filtering rules, force district-wide MFA, send alerts to parents and staff, monitor for new compromises", points: 10, feedback: "Perfect! Multi-layered response combines technical controls with community awareness and ongoing monitoring." },
                                    { text: "Just tell parents to ignore emails asking for student information", points: 4, feedback: "Parent awareness helps, but technical controls are essential when attackers actively operate inside your systems." },
                                    { text: "Only disable accounts that send phishing emails", points: 5, feedback: "Reactive disabling helps but insufficient. Need proactive measures like MFA to prevent new compromises." }
                                ]
                            },
                            {
                                question: "You find attackers created a hidden 'tech_admin' account that had access for 5 days. What's your response?",
                                choices: [
                                    { text: "Delete the rogue account and change all admin passwords", points: 5, feedback: "Deletion and password changes help, but must investigate what they accessed during those 5 days." },
                                    { text: "Remove account, audit all actions it performed, check for backdoors, review all privileged accounts, assess student data exposure", points: 10, feedback: "Excellent! Comprehensive investigation determines full scope and identifies any lingering access or student data breaches." },
                                    { text: "Report the incident to local police", points: 3, feedback: "Law enforcement contact is appropriate, but first investigate the technical scope and report per HB156." },
                                    { text: "Keep the rogue account active to monitor attacker behavior", points: 0, feedback: "Never leave compromised accounts active with student data access. Immediate removal is required." }
                                ]
                            }
                        ]
                    },
                    {
                        title: "Recovery & Prevention",
                        questions: [
                            {
                                question: "After containing the incident, what's your top priority for preventing similar phishing attacks?",
                                choices: [
                                    { text: "Mandatory one-time cybersecurity training for all teachers", points: 6, feedback: "Training helps but must be ongoing and combined with technical controls for effective defense." },
                                    { text: "Deploy district-wide MFA, implement email authentication (SPF/DMARC/DKIM), phishing simulations, ongoing training", points: 10, feedback: "Perfect! Technical controls create defense-in-depth that doesn't rely solely on user vigilance." },
                                    { text: "Block all external emails from reaching staff", points: 2, feedback: "Too restrictive for schools that need parent and community communication. Use smart filtering instead." },
                                    { text: "Fire IT staff who didn't prevent the attack", points: 0, feedback: "Phishing attacks target users, not IT failures. Focus on systematic improvements, not blame." }
                                ]
                            },
                            {
                                question: "The superintendent asks about reporting requirements. Besides GEMA/HS, who else should be notified?",
                                choices: [
                                    { text: "No one else since you reported to GEMA/HS already", points: 2, feedback: "Also need insurance notification and legal assessment for FERPA requirements. Compliance is multi-layered." },
                                    { text: "Insurance agency immediately, legal counsel for FERPA assessment, and potentially law enforcement for criminal investigation", points: 10, feedback: "Excellent! Comprehensive notification ensures insurance coverage, legal compliance, and criminal investigation support." },
                                    { text: "Just the school board at their next meeting", points: 3, feedback: "Board needs immediate notification for major incidents, plus insurance and legal counsel require prompt contact." },
                                    { text: "Only the affected teachers and their principals", points: 1, feedback: "Incident requires broader stakeholder notification including insurance, legal, law enforcement, and leadership." }
                                ]
                            },
                            {
                                question: "Six months later, how do you demonstrate to the school board that security improvements are working?",
                                choices: [
                                    { text: "Show that no phishing attacks have succeeded since the incident", points: 5, feedback: "Absence of known breaches doesn't prove security. Need proactive metrics showing defensive capability." },
                                    { text: "Present MFA adoption rates, phishing simulation results, time-to-detect improvements, and security training completion", points: 10, feedback: "Perfect! Comprehensive metrics measure prevention, detection, response, and awareness improvements across district." },
                                    { text: "Count how many phishing emails are now blocked by filters", points: 6, feedback: "Email blocking is one metric but doesn't show if users would click or if credentials would be compromised." },
                                    { text: "Report on security software purchases made", points: 2, feedback: "Purchases don't equal security. Board needs effectiveness metrics and operational improvement evidence." }
                                ]
                            },
                            {
                                question: "What should be included in your final incident report to the school board and administration?",
                                choices: [
                                    { text: "Technical timeline and list of compromised accounts only", points: 3, feedback: "Board needs business impact, educational disruption, costs, FERPA implications, and strategic recommendations." },
                                    { text: "Attack timeline, student data impact, costs, FERPA assessment, response actions, and strategic security recommendations", points: 10, feedback: "Perfect! Comprehensive reporting helps board understand risks and make informed security investment decisions." },
                                    { text: "Focus only on how well IT staff responded to minimize criticism", points: 2, feedback: "Honest assessment of impact and gaps builds trust. Include both successes and improvement opportunities." },
                                    { text: "Minimize the incident details to avoid alarming the community", points: 0, feedback: "Board needs full facts for governance. Transparency enables proper oversight and security investment decisions." }
                                ]
                            }
                        ]
                    }
                ]
            }
        };

        const App = () => {
            const [screen, setScreen] = React.useState('home');
            const [selectedScenario, setSelectedScenario] = React.useState(null);
            const [currentRound, setCurrentRound] = React.useState(0);
            const [currentQuestion, setCurrentQuestion] = React.useState(0);
            const [score, setScore] = React.useState(0);
            const [answers, setAnswers] = React.useState([]);
            const [selectedChoice, setSelectedChoice] = React.useState(null);

            const startGame = (scenarioKey) => {
                setSelectedScenario(scenarioKey);
                setCurrentRound(0);
                setCurrentQuestion(0);
                setScore(0);
                setAnswers([]);
                setSelectedChoice(null);
                setScreen('game');
            };

            const submitAnswer = () => {
                if (selectedChoice === null) return;

                const scenario = scenarios[selectedScenario];
                const question = scenario.rounds[currentRound].questions[currentQuestion];
                const choice = question.choices[selectedChoice];

                const answerRecord = {
                    round: currentRound,
                    question: currentQuestion,
                    questionText: question.question,
                    selectedAnswer: choice.text,
                    points: choice.points,
                    feedback: choice.feedback,
                    maxPoints: 10
                };

                setAnswers([...answers, answerRecord]);
                setScore(score + choice.points);

                // Move to next question
                const nextQuestion = currentQuestion + 1;
                const totalQuestions = scenario.rounds[currentRound].questions.length;

                if (nextQuestion < totalQuestions) {
                    setCurrentQuestion(nextQuestion);
                    setSelectedChoice(null);
                } else {
                    // Move to next round
                    const nextRound = currentRound + 1;
                    if (nextRound < scenario.rounds.length) {
                        setCurrentRound(nextRound);
                        setCurrentQuestion(0);
                        setSelectedChoice(null);
                    } else {
                        // Game complete
                        setScreen('results');
                    }
                }
            };

            const restartGame = () => {
                setScreen('home');
                setSelectedScenario(null);
                setCurrentRound(0);
                setCurrentQuestion(0);
                setScore(0);
                setAnswers([]);
                setSelectedChoice(null);
            };

            const getRecommendations = () => {
                const recommendations = [];
                const avgScore = score / answers.length;

                // Analyze weak areas
                const weakAreas = answers.filter(a => a.points <= 5);
                const roundPerformance = [0, 1, 2].map(round => {
                    const roundAnswers = answers.filter(a => a.round === round);
                    return roundAnswers.reduce((sum, a) => sum + a.points, 0) / roundAnswers.length;
                });

                // Generate recommendations based on scenario and performance
                if (selectedScenario === 'ransomware') {
                    if (roundPerformance[0] < 7) {
                        recommendations.push({
                            title: "Incident Response & Georgia HB156 Compliance",
                            description: "Your initial response showed gaps in containment and reporting. Review Georgia HB156 requirements for one-hour reporting to GEMA/HS via GTA at (877) 482-3233. Study proper isolation techniques, evidence preservation, and insurance notification procedures."
                        });
                    }
                    if (roundPerformance[1] < 7) {
                        recommendations.push({
                            title: "Student Data Protection & FERPA Compliance",
                            description: "Investigation phase needs improvement. Study FERPA requirements for breach notification when student education records are compromised. Learn about detecting lateral movement and credential theft in school networks."
                        });
                    }
                    if (roundPerformance[2] < 7) {
                        recommendations.push({
                            title: "School System Recovery Planning",
                            description: "Recovery planning needs attention. Study backup strategies for student information systems, disaster recovery procedures that minimize instructional disruption, and post-incident analysis."
                        });
                    }
                    recommendations.push({
                        title: "K-12 Ransomware Prevention",
                        description: "Study defense-in-depth for schools including email security, endpoint protection, network segmentation, and the 3-2-1 backup rule. Review CISA and MS-ISAC resources specifically for K-12 education."
                    });
                } else if (selectedScenario === 'ddos') {
                    if (roundPerformance[0] < 7) {
                        recommendations.push({
                            title: "DDoS Detection During Critical Periods",
                            description: "Improve recognition of DDoS attacks during testing windows and online learning. Study volumetric vs application-layer attacks and learn how to prioritize educational services during incidents."
                        });
                    }
                    if (roundPerformance[1] < 7) {
                        recommendations.push({
                            title: "Application-Layer Defense for School Systems",
                            description: "Learn about protecting student portals and learning platforms from sophisticated attacks. Study rate limiting, traffic filtering, and maintaining services during attacks without disrupting student access."
                        });
                    }
                    if (roundPerformance[2] < 7) {
                        recommendations.push({
                            title: "Educational Continuity & Resilience",
                            description: "Study redundant architecture for critical educational services, failover mechanisms, and coordination with state education departments during extended outages."
                        });
                    }
                    recommendations.push({
                        title: "DDoS Preparedness for Schools",
                        description: "Create tested response plans for attacks during critical testing periods. Work with DDoS mitigation providers and conduct tabletop exercises during non-instructional time."
                    });
                } else if (selectedScenario === 'phishing') {
                    if (roundPerformance[0] < 7) {
                        recommendations.push({
                            title: "Teacher Account Protection & Rapid Response",
                            description: "Improve incident response to teacher credential theft. Study MFA implementation for K-12, proper account suspension procedures, and HB156 reporting requirements for school districts."
                        });
                    }
                    if (roundPerformance[1] < 7) {
                        recommendations.push({
                            title: "FERPA Breach Assessment & Student Data Protection",
                            description: "Learn FERPA requirements for unauthorized access to education records. Study how to assess data exposure scope and coordinate with legal counsel for proper breach notification."
                        });
                    }
                    if (roundPerformance[2] < 7) {
                        recommendations.push({
                            title: "Long-term Security Culture in Schools",
                            description: "Focus on sustainable improvements including MFA deployment, ongoing phishing simulations for staff, and security awareness that works in educational environments."
                        });
                    }
                    recommendations.push({
                        title: "Phishing Prevention in K-12 Environments",
                        description: "Study email authentication (SPF, DKIM, DMARC), anti-phishing technologies for schools, and effective security awareness programs for teachers. Review MS-ISAC resources for K-12 specific threats."
                    });
                }

                // Add general recommendations based on overall score
                if (avgScore < 6) {
                    recommendations.push({
                        title: "Cybersecurity Fundamentals for School IT Staff",
                        description: "Consider pursuing education-focused security training and certifications. Review MS-ISAC (Multi-State Information Sharing and Analysis Center) resources specifically designed for K-12 cybersecurity."
                    });
                }

                // Add Georgia HB156 compliance information - ALWAYS INCLUDED
                recommendations.push({
                    title: "Georgia HB156 Compliance - CRITICAL REQUIREMENT",
                    description: "As a Georgia school district, you MUST report cyber incidents to GEMA/HS within ONE HOUR of recognition. Call Georgia Technology Authority (GTA) help desk at (877) 482-3233, Option 2 (available 24/7). State 'Declaring a Cyber-Security Event' and provide incident details. Also contact your insurance agency immediately. Local governments should notify their local Emergency Management Agency (EMA) within one hour. If reporting to federal agencies, notify GEMA/HS within two hours of federal report. Compliance protects your district and ensures access to state cybersecurity resources."
                });

                recommendations.push({
                    title: "FERPA & Student Data Protection",
                    description: "Maintain awareness of FERPA requirements for protecting student education records. Unauthorized access to student data may trigger notification obligations. Always consult legal counsel when student PII is potentially compromised. For students under 13, also consider COPPA implications."
                });

                recommendations.push({
                    title: "Continuous Learning & Resources",
                    description: "Stay updated through K-12 focused resources: MS-ISAC (Multi-State ISAC for schools), CISA K-12 Cybersecurity Toolkit, SANS Security Awareness for Schools, and Georgia GTA cybersecurity resources. Participate in school cybersecurity working groups and tabletop exercises."
                });

                return recommendations;
            };

            const getScoreRating = () => {
                if (score >= 90) return { text: "Excellent", color: "#4ade80", description: "Outstanding incident response knowledge for school IT!" };
                if (score >= 75) return { text: "Good", color: "#28ABE2", description: "Solid understanding with some areas to improve." };
                if (score >= 60) return { text: "Fair", color: "#fbbf24", description: "Basic competency, but significant gaps in compliance and response." };
                return { text: "Needs Improvement", color: "#ef4444", description: "Additional training strongly recommended before real incidents." };
            };

            // Home Screen
            if (screen === 'home') {
                return (
                    <div className="container">
                        <div className="card" style={{textAlign: 'center', marginTop: '40px'}}>
                            <h1>ðŸ›¡ï¸ K-12 Cybersecurity Incident Response</h1>
                            <p style={{fontSize: '18px', color: '#28ABE2', marginBottom: '10px'}}>
                                School IT Staff Training - Georgia Districts
                            </p>
                            <div className="warning-box" style={{marginTop: '20px', marginBottom: '30px'}}>
                                <p style={{marginBottom: '8px', fontWeight: 'bold'}}>âš ï¸ Georgia HB156 Requirement:</p>
                                <p style={{fontSize: '14px', marginBottom: '0'}}>
                                    Georgia school districts must report cyber incidents to GEMA/HS within ONE HOUR via GTA help desk: (877) 482-3233, Option 2
                                </p>
                            </div>
                            <p style={{marginBottom: '40px', fontSize: '16px', opacity: 0.9}}>
                                Test your incident response skills in realistic school scenarios. You'll face 3 rounds with increasingly complex decisions.
                                Each question is worth 10 points. Can you score 100/100?
                            </p>

                            <div style={{maxWidth: '700px', margin: '0 auto'}}>
                                {Object.entries(scenarios).map(([key, scenario]) => (
                                    <div key={key} className="scenario-card" onClick={() => startGame(key)}>
                                        <div style={{display: 'flex', alignItems: 'center', gap: '15px'}}>
                                            <span style={{fontSize: '48px'}}>{scenario.icon}</span>
                                            <div style={{textAlign: 'left', flex: 1}}>
                                                <h3 style={{marginBottom: '8px'}}>{scenario.title}</h3>
                                                <p style={{fontSize: '14px', opacity: 0.8, marginBottom: 0}}>
                                                    {scenario.description}
                                                </p>
                                            </div>
                                        </div>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </div>
                );
            }

            // Game Screen
            if (screen === 'game' && selectedScenario) {
                const scenario = scenarios[selectedScenario];
                const round = scenario.rounds[currentRound];
                const question = round.questions[currentQuestion];
                const totalQuestions = scenario.rounds.reduce((sum, r) => sum + r.questions.length, 0);
                const questionsCompleted = answers.length;
                const progress = (questionsCompleted / totalQuestions) * 100;

                return (
                    <div className="container">
                        <div style={{marginTop: '20px', marginBottom: '20px', display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>
                            <div>
                                <span className="round-indicator">
                                    Round {currentRound + 1} of 3: {round.title}
                                </span>
                            </div>
                            <div className="score-display">
                                Score: {score} / 100
                            </div>
                        </div>

                        <div className="progress-bar">
                            <div className="progress-fill" style={{width: `${progress}%`}}></div>
                        </div>

                        <div className="card">
                            <div style={{marginBottom: '25px'}}>
                                <div style={{display: 'flex', alignItems: 'center', gap: '10px', marginBottom: '15px'}}>
                                    <span style={{fontSize: '32px'}}>{scenario.icon}</span>
                                    <h2 style={{marginBottom: 0}}>{scenario.title}</h2>
                                </div>
                                <p style={{fontSize: '15px', opacity: 0.8, marginBottom: 0}}>
                                    Question {currentQuestion + 1} of {round.questions.length}
                                </p>
                            </div>

                            <div style={{background: 'rgba(40, 171, 226, 0.1)', padding: '20px', borderRadius: '12px', marginBottom: '30px', border: '1px solid rgba(40, 171, 226, 0.3)'}}>
                                <p style={{fontSize: '18px', fontWeight: '600', marginBottom: 0}}>
                                    {question.question}
                                </p>
                            </div>

                            <div style={{marginBottom: '30px'}}>
                                {question.choices.map((choice, index) => (
                                    <div
                                        key={index}
                                        className={`choice ${selectedChoice === index ? 'selected' : ''}`}
                                        onClick={() => setSelectedChoice(index)}
                                    >
                                        <div style={{display: 'flex', alignItems: 'start', gap: '12px'}}>
                                            <div style={{
                                                minWidth: '24px',
                                                height: '24px',
                                                borderRadius: '50%',
                                                border: '2px solid ' + (selectedChoice === index ? '#28ABE2' : 'rgba(255,255,255,0.3)'),
                                                background: selectedChoice === index ? '#28ABE2' : 'transparent',
                                                display: 'flex',
                                                alignItems: 'center',
                                                justifyContent: 'center',
                                                marginTop: '2px'
                                            }}>
                                                {selectedChoice === index && (
                                                    <div style={{width: '12px', height: '12px', borderRadius: '50%', background: 'white'}}></div>
                                                )}
                                            </div>
                                            <p style={{margin: 0, flex: 1}}>{choice.text}</p>
                                        </div>
                                    </div>
                                ))}
                            </div>

                            <div style={{display: 'flex', justifyContent: 'space-between', alignItems: 'center'}}>
                                <button className="btn" onClick={restartGame} style={{background: 'rgba(255,255,255,0.1)'}}>
                                    Exit Training
                                </button>
                                <button 
                                    className="btn" 
                                    onClick={submitAnswer}
                                    disabled={selectedChoice === null}
                                >
                                    {currentQuestion === round.questions.length - 1 && currentRound === scenario.rounds.length - 1
                                        ? 'Complete Training'
                                        : 'Submit Answer'}
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            // Results Screen
            if (screen === 'results' && selectedScenario) {
                const scenario = scenarios[selectedScenario];
                const rating = getScoreRating();
                const recommendations = getRecommendations();

                return (
                    <div className="container">
                        <div className="card" style={{marginTop: '40px', textAlign: 'center'}}>
                            <h1>ðŸŽ¯ Training Complete!</h1>
                            <div style={{margin: '30px 0'}}>
                                <div style={{
                                    fontSize: '72px',
                                    fontWeight: 'bold',
                                    background: `linear-gradient(135deg, ${rating.color} 0%, #1A4379 100%)`,
                                    WebkitBackgroundClip: 'text',
                                    WebkitTextFillColor: 'transparent',
                                    backgroundClip: 'text'
                                }}>
                                    {score}
                                </div>
                                <div style={{fontSize: '24px', opacity: 0.7}}>out of 100 points</div>
                                <div style={{marginTop: '20px', fontSize: '28px', fontWeight: 'bold', color: rating.color}}>
                                    {rating.text}
                                </div>
                                <p style={{fontSize: '16px', opacity: 0.8, marginTop: '10px'}}>
                                    {rating.description}
                                </p>
                            </div>

                            <div style={{marginBottom: '20px'}}>
                                <h3>Scenario: {scenario.title}</h3>
                            </div>

                            <button className="btn" onClick={restartGame} style={{marginBottom: '30px'}}>
                                Try Another Scenario
                            </button>
                        </div>

                        {/* Answer Review */}
                        <div className="card">
                            <h2>ðŸ“ Answer Review</h2>
                            <p style={{opacity: 0.8, marginBottom: '25px'}}>
                                Review your responses and learn from the feedback
                            </p>

                            {answers.map((answer, index) => {
                                const pointPercentage = (answer.points / answer.maxPoints) * 100;
                                let className = 'incorrect';
                                if (pointPercentage === 100) className = 'correct';
                                else if (pointPercentage >= 50) className = 'partial';

                                return (
                                    <div key={index} className={`review-item ${className}`}>
                                        <div style={{marginBottom: '10px'}}>
                                            <span className="badge">Round {answer.round + 1}, Q{answer.question + 1}</span>
                                            <span className="badge" style={{background: pointPercentage === 100 ? '#4ade80' : pointPercentage >= 50 ? '#fbbf24' : '#ef4444'}}>
                                                {answer.points}/{answer.maxPoints} points
                                            </span>
                                        </div>
                                        <p style={{fontWeight: '600', marginBottom: '10px'}}>
                                            {answer.questionText}
                                        </p>
                                        <p style={{marginBottom: '8px', opacity: 0.9}}>
                                            <strong>Your answer:</strong> {answer.selectedAnswer}
                                        </p>
                                        <p style={{fontSize: '14px', opacity: 0.8, marginBottom: 0, fontStyle: 'italic'}}>
                                            {answer.feedback}
                                        </p>
                                    </div>
                                );
                            })}
                        </div>

                        {/* Recommendations */}
                        <div className="card">
                            <h2>ðŸ“š Training Recommendations</h2>
                            <p style={{opacity: 0.8, marginBottom: '25px'}}>
                                Based on your performance, here are personalized learning recommendations for school IT staff
                            </p>

                            {recommendations.map((rec, index) => (
                                <div key={index} className="recommendation">
                                    <h3 style={{marginBottom: '10px', fontSize: '18px'}}>{rec.title}</h3>
                                    <p style={{marginBottom: 0, opacity: 0.9}}>{rec.description}</p>
                                </div>
                            ))}
                        </div>

                        <div className="card" style={{textAlign: 'center'}}>
                            <button className="btn" onClick={restartGame}>
                                Return to Scenario Selection
                            </button>
                        </div>
                    </div>
                );
            }

            return null;
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>